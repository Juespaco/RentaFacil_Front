<div class="section-title pt-5" data-aos="fade-up">
  <h2>Vehículos</h2>
  <p class="">Administra tus vehículos de una forma sencilla y rapida</p>
</div>

<div class="container-fluid features">
  <div class="card">
    <div class="card-body">
      <form>
        <div class="row">
          <input type="hidden" [(ngModel)]="vehicleForm.id" id="id" name="id" />
          <div class="form-group col-12 col-md-6 p-3">
            <label>*Placa</label>
            <input
              [(ngModel)]="vehicleForm.plateNumber"
              name="plateNumber"
              type="text"
              class="form-control"
              id="plateNumber"
              placeholder="Placa"
              required
            />
          </div>
          <div class="form-group col-12 col-md-6 p-3">
            <label>*Marca</label>
            <input
              [(ngModel)]="vehicleForm.brand"
              name="brand"
              type="text"
              class="form-control"
              id="brand"
              placeholder="Marca"
              required
            />
          </div>

          <div class="form-group col-12 col-md-6 p-3">
            <label>*Modelo</label>
            <input
              [(ngModel)]="vehicleForm.model"
              name="model"
              type="text"
              class="form-control"
              id="model"
              placeholder="Modelo"
            />
          </div>
          <div class="form-group col-12 col-md-6 p-3">
            <label>*Año</label>
            <input
              [(ngModel)]="vehicleForm.year"
              name="year"
              type="number"
              class="form-control"
              id="year"
              placeholder="Año"
            />
          </div>
          <div class="form-group col-12 col-md-6 p-3">
            <label>*Tipo</label>
            <select id="tipoVehiculo" class="form-select"  name="vehicleTypeId"[(ngModel)]="vehicleForm.vehicleTypeId">
              <option value="0" selected disabled>Seleccione un tipo</option>
              <option *ngFor="let type of vehicleTypes" [value]="type.id">{{type.name}}</option>
            </select>
          </div>
          <div class="form-group col-12 col-md-6 p-3">
            <label>*Valor por dia</label>
            <input
              [(ngModel)]="vehicleForm.bookingValuePerDay"
              name="bookingValuePerDay"
              type="number"
              class="form-control"
              id="bookingValuePerDay"
              placeholder="Valor por dia"
            />
          </div>
          <div class="row">
            <div class="col-12 text-center features-item">
              <button type="submit" class="btn btn-get-started" (click)="validateVehicleFields()">
                {{ textButton }}
              </button>
              <button class="btn btn-get-started btnClear" (click)="clear()">
                Limpiar
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="card top-space bottom-space">
    <div class="card-body top-space">
      <div class="top-space">
        <div class="table-responsive">
          <table
            id="vehicleTable"
            class="table table-striped table-bordered table-sm row-border hover"
          >
            <thead>
              <tr>
                <th (click)="sortData('plateNumber')">Placa</th>
                <th (click)="sortData('brand')">Marca</th>
                <th (click)="sortData('model')">Modelo</th>
                <th (click)="sortData('year')">Año</th>
                <th (click)="sortData('vehicleTypeId')">Tipo</th>
                <th (click)="sortData('bookingValuePerDay')">Valor por día</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let vehicle of paginatedVehicles">
                <td>{{ vehicle.plateNumber }}</td>
                <td>{{ vehicle.brand }}</td>
                <td>{{ vehicle.model }}</td>
                <td>{{ vehicle.year }}</td>
                <td>{{ vehicle.vehicleTypeId }}</td>
                <td>{{ vehicle.bookingValuePerDay }}</td>
                <td class="text-center">
                  <button (click)="editVehicle(vehicle); scrollToTop()"
                    class="btn-icon-btn-shadow-btn-circle bi bi-pencil-square"
                    data-bs-toggle="tooltip" data-bs-placement="top" title="Editar">
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <nav class="mt-3">
            <ul class="pagination justify-content-center">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <button class="page-link" (click)="currentPage = currentPage - 1" [disabled]="currentPage === 1">
                  &laquo;
                </button>
              </li>
              <li
                class="page-item"
                *ngFor="let page of totalPages"
                [class.active]="page === currentPage"
              >
                <button class="page-link" (click)="currentPage = page">{{ page }}</button>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages.length">
                <button class="page-link" (click)="currentPage = currentPage + 1" [disabled]="currentPage === totalPages.length">
                  &raquo;
                </button>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>
